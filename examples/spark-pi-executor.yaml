  queue: test                                                            
  jobSetId: job-set-1                                                    
  jobs:                                                                  
    - namespace: default                                                 
      priority: 0                                                        
      podSpec:                                                           
        terminationGracePeriodSeconds: 0                                 
        restartPolicy: Never                                             
        containers:                                                      
          - name: spark-executor                                         
            image: spark:testing                                         
            env:                                                         
            - name: SPARK_EXECUTOR_MEMORY                                
              value: "512m"                                              
            - name: SPARK_DRIVER_URL
              value: "spark://CoarseGrainedScheduler@${IP_ADDR}:7078"
            - name: SPARK_EXECUTOR_ID                                    
              value: "1"                                                 
            - name: SPARK_EXECUTOR_CORES                                 
              value: "1"                                                 
            - name: SPARK_APPLICATION_ID                                 
              value: "test_spark_app_id"                                 
            - name: SPARK_EXECUTOR_POD_IP
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: status.podIP
            - name: SPARK_RESOURCE_PROFILE_ID                            
              value: "0"                                                 
            - name: SPARK_EXECUTOR_POD_NAME                              
              value: "test-pod-name"                                     
            - name: SPARK_JAVA_OPT_0
              value: -Djava.net.preferIPv6Addresses=false
            - name: SPARK_JAVA_OPT_20
              value: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005
            - name: SPARK_JAVA_OPT_6
              value: --add-opens=java.base/java.io=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_1
              value: -XX:+IgnoreUnrecognizedVMOptions
            - name: SPARK_JAVA_OPT_21
              value: -Dspark.driver.port=7078
            - name: SPARK_JAVA_OPT_10
              value: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_9
              value: --add-opens=java.base/java.util=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_8
              value: --add-opens=java.base/java.nio=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_12
              value: --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_15
              value: --add-opens=java.base/sun.security.action=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_3
              value: --add-opens=java.base/java.lang=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_19
              value: -Dio.netty.tryReflectionSetAccessible=true
            - name: SPARK_JAVA_OPT_13
              value: --add-opens=java.base/sun.nio.ch=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_4
              value: --add-opens=java.base/java.lang.invoke=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_18
              value: -Djdk.reflect.useDirectMethodHandle=false
            - name: SPARK_JAVA_OPT_7
              value: --add-opens=java.base/java.net=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_17
              value: --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_22
              value: -Dspark.driver.blockManager.port=7079
            - name: SPARK_JAVA_OPT_11
              value: --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_2
              value: --add-modules=jdk.incubator.vector
            - name: SPARK_JAVA_OPT_16
              value: --add-opens=java.base/sun.util.calendar=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_14
              value: --add-opens=java.base/sun.nio.cs=ALL-UNNAMED
            - name: SPARK_JAVA_OPT_5
              value: --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
            command:                                                     
              - /opt/entrypoint.sh                                       
            args:                                                        
              - executor                                                 
            resources:                                                   
              limits:                                                    
                memory: 1Gi                                              
                cpu: 1                                                   
              requests:                                                  
                memory: 1Gi                                              
                cpu: 1                                                              
            ports:
            - containerPort: 7079
              name: blockmanager
              protocol: TCP
